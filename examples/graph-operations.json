{
  "name": "Neo4j Graph Analysis and Data Creation",
  "nodes": [
    {
      "parameters": {
        "resource": "graphDb",
        "operation": "executeQuery",
        "cypherQuery": "MATCH (p:Person)-[:WORKS_FOR]->(c:Company) RETURN p.name as employee, p.occupation as role, c.name as company, c.industry as industry ORDER BY p.name",
        "queryParameters": "{}"
      },
      "type": "n8n-nodes-neo4j-extended.neo4j",
      "typeVersion": 1,
      "position": [400, 200],
      "id": "neo4j-query-1",
      "name": "Get Employees",
      "credentials": {
        "neo4jApi": {
          "id": "neo4j-creds",
          "name": "Neo4j API"
        }
      }
    },
    {
      "parameters": {
        "resource": "graphDb", 
        "operation": "createNode",
        "nodeLabel": "Person",
        "nodeProperties": "{\"name\": \"Sarah\", \"age\": 32, \"occupation\": \"DevOps Engineer\"}"
      },
      "type": "n8n-nodes-neo4j-extended.neo4j",
      "typeVersion": 1,
      "position": [400, 400],
      "id": "neo4j-create-1",
      "name": "Create New Employee",
      "credentials": {
        "neo4jApi": {
          "id": "neo4j-creds",
          "name": "Neo4j API"
        }
      }
    },
    {
      "parameters": {
        "resource": "graphDb",
        "operation": "createRelationship",
        "fromNodeQuery": "MATCH (a:Person {name: \"Sarah\"})",
        "toNodeQuery": "MATCH (b:Company {name: \"Tech Corp\"})",
        "relationshipType": "WORKS_FOR",
        "relationshipProperties": "{\"since\": 2024, \"role\": \"Senior DevOps Engineer\"}"
      },
      "type": "n8n-nodes-neo4j-extended.neo4j",
      "typeVersion": 1,
      "position": [400, 600],
      "id": "neo4j-relation-1",
      "name": "Create Employment Relationship",
      "credentials": {
        "neo4jApi": {
          "id": "neo4j-creds",
          "name": "Neo4j API"
        }
      }
    },
    {
      "parameters": {
        "resource": "graphDb",
        "operation": "getSchema",
        "schemaFormat": "structured"
      },
      "type": "n8n-nodes-neo4j-extended.neo4j",
      "typeVersion": 1,
      "position": [600, 200],
      "id": "neo4j-schema-1",
      "name": "Get Database Schema",
      "credentials": {
        "neo4jApi": {
          "id": "neo4j-creds",
          "name": "Neo4j API"
        }
      }
    },
    {
      "parameters": {
        "resource": "graphDb",
        "operation": "executeQuery",
        "cypherQuery": "MATCH (p:Person {name: $name})-[r:WORKS_FOR]->(c:Company) RETURN p, r, c",
        "queryParameters": "{\"name\": \"Sarah\"}"
      },
      "type": "n8n-nodes-neo4j-extended.neo4j",
      "typeVersion": 1,
      "position": [400, 800],
      "id": "neo4j-verify-1",
      "name": "Verify New Employee",
      "credentials": {
        "neo4jApi": {
          "id": "neo4j-creds",
          "name": "Neo4j API"
        }
      }
    }
  ],
  "connections": {
    "Create New Employee": {
      "main": [
        [
          {
            "node": "Create Employment Relationship",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Employment Relationship": {
      "main": [
        [
          {
            "node": "Verify New Employee", 
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": false,
    "instanceId": "example-workflow-2"
  }
}